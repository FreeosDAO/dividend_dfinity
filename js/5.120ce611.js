(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{"7ce5":function(t,s,a){t.exports=a.p+"img/decentralised.7e7fdf74.jpg"},"89f9":function(t,s,a){},b89b:function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"q-pa-md"},[e("div",{staticClass:"q-gutter-y-md q-mx-auto",staticStyle:{"max-width":"600px"}},[e("q-card",[e("q-tabs",{staticClass:"text-grey",attrs:{"active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},model:{value:t.tab,callback:function(s){t.tab=s},expression:"tab"}}),e("q-separator"),e("q-card",{staticClass:"my-card text-white",staticStyle:{background:"radial-gradient(circle, #35a2ff 0%, #014a88 80%)"}},[e("q-card-section",[e("div",{staticClass:"text-h6 text-center q-ma-lg",attrs:{id:"nav"}},[e("img",{attrs:{id:"icon",width:"65",src:a("7ce5")}}),e("span",{attrs:{id:"text"}},[t._v("  Create NFT Proposal")])]),e("div",{staticClass:"q-pa-md"},[e("q-dialog",{model:{value:t.dialogreset,callback:function(s){t.dialogreset=s},expression:"dialogreset"}},[e("q-card",[e("q-card-section",{staticClass:"row items-center q-gutter-sm"},[t._v("Remove Active Blockchain Proposal")]),e("q-card-section",{staticClass:"row items-center q-gutter-sm"},[e("q-btn",{staticClass:"q-ma-lg",attrs:{color:"orange","no-caps":"",label:"Cancel Active Proposal"},on:{click:function(s){return t.breset()}}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{"no-caps":"",label:"Close Dialog",color:"primary"}})],1)],1)],1)],1),e("div",{staticClass:"q-pa-md"},[e("q-dialog",{model:{value:t.dialoginfo,callback:function(s){t.dialoginfo=s},expression:"dialoginfo"}},[e("q-card",[e("q-card-section",{staticClass:"row items-center q-gutter-sm"},[e("p",[t._v("Proposal Information "),e("br"),t._v("\n                Proposal (acct) "+t._s(t.propaccount)),e("br"),t._v("\n                Percentage "+t._s(t.proposal_percentage)),e("br"),t._v("\n                Expiration "+t._s(t.expires_at))]),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{"no-caps":"",label:"Close dialog",color:"primary"}})],1)],1)],1)],1),e("div",{staticStyle:{"max-width":"500px",margin:"0 auto"}},[e("div",{staticClass:"row justify-center q-mb-md q-pl-md q-pr-md q-ml-md q-mr-md q-pb-xs",staticStyle:{"align-items":"center"}},[e("div",{staticClass:"col-xs-6 col-sm-6"},[e("q-btn-toggle",{attrs:{"no-caps":"",push:"",glossy:"","toggle-color":"green",options:[{label:"WayFinder",value:1},{label:"WayFarer",value:2},{label:"WayFounder",value:3}]},model:{value:t.submitData.cap,callback:function(s){t.$set(t.submitData,"cap",s)},expression:"submitData.cap"}})],1)]),e("div",{staticClass:"row justify-center q-mb-md q-pl-md q-pr-md q-ml-md q-mr-md q-pb-xs",staticStyle:{"align-items":"center"}},[e("div",{staticClass:"col-xs-5 col-sm-4 text-right"},[t._v("\n                  Account\n                ")]),e("div",{staticClass:"col-xs-1 col-sm-2"}),e("div",{staticClass:"col-xs-6 col-sm-6"},[e("q-input",{attrs:{type:"text",color:"white",outlined:"",dense:""},model:{value:t.submitData.eosaccount,callback:function(s){t.$set(t.submitData,"eosaccount",s)},expression:"submitData.eosaccount"}})],1)]),e("div",{staticClass:"row justify-center q-mb-md q-pl-md q-pr-md q-ml-md q-mr-md q-pb-xs",staticStyle:{"align-items":"center"}},[e("div",{staticClass:"col-xs-5 col-sm-4 text-right"},[t._v("\n                  Percentage\n                ")]),e("div",{staticClass:"col-xs-1 col-sm-2"}),e("div",{staticClass:"col-xs-6 col-sm-6"},[e("q-input",{attrs:{dense:"",outlined:"",color:"white"},model:{value:t.submitData.percentage,callback:function(s){t.$set(t.submitData,"percentage",s)},expression:"submitData.percentage"}})],1)]),1!==t.submitData.cap?e("div",[e("div",{staticClass:"row justify-center q-mb-md q-pl-md q-pr-md q-ml-md q-mr-md q-pb-xs",staticStyle:{"align-items":"center"}},[e("div",{staticClass:"col-xs-5 col-sm-4 text-right"},[t._v("\n                  Threshold\n                ")]),e("div",{staticClass:"col-xs-1 col-sm-2"}),e("div",{staticClass:"col-xs-6 col-sm-6",attrs:{color:"white"}},[e("q-input",{attrs:{outlined:"",label:"POINT",color:"white",placeholder:"0.0000",dense:""},model:{value:t.submitData.threshold,callback:function(s){t.$set(t.submitData,"threshold",s)},expression:"submitData.threshold"}})],1)])]):t._e(),1===t.submitData.cap?e("div",[e("div",{staticClass:"row justify-center q-mb-md q-pl-md q-pr-md q-ml-md q-mr-md q-pb-xs",staticStyle:{"align-items":"center"}},[e("div",{staticClass:"col-xs-5 col-sm-4 text-right"},[t._v("\n                  Iterations to pay\n                ")]),e("div",{staticClass:"col-xs-1 col-sm-2"}),e("div",{staticClass:"col-xs-6 col-sm-6"},[e("q-input",{attrs:{type:"number",outlined:"",dense:""},model:{value:t.submitData.ratesleft,callback:function(s){t.$set(t.submitData,"ratesleft",s)},expression:"submitData.ratesleft"}})],1)])]):t._e(),3===t.submitData.cap?e("div",[e("div",{staticClass:"row justify-center q-mb-md q-pl-md q-pr-md q-ml-md q-mr-md q-pb-xs",staticStyle:{"align-items":"center"}},[e("div",{staticClass:"col-xs-5 col-sm-4 text-right"},[t._v("\n                  Locked\n                ")]),e("div",{staticClass:"col-xs-1 col-sm-2"}),e("div",{staticClass:"col-xs-6 col-sm-6"},[e("q-toggle",{attrs:{color:"red"},model:{value:t.submitData.value,callback:function(s){t.$set(t.submitData,"value",s)},expression:"submitData.value"}})],1)])]):t._e()]),e("div",{staticClass:"flex justify-center"},[t.isProposerActive?e("div",{staticClass:"flex justify-center"},[e("q-btn",{staticClass:"q-ma-lg",attrs:{icon:"link",color:"primary","no-caps":"",label:"Submit",disable:!t.isFormFilled},on:{click:function(s){return t.submit()}}})],1):e("div",{attrs:{id:"div1"}},[t._v("You're not the proposer")]),e("q-btn",{staticClass:"q-ma-lg",attrs:{color:"secondary","no-caps":"",label:"Clear"},on:{click:function(s){return t.resetForm()}}}),e("q-btn",{staticClass:"q-ma-lg",attrs:{round:"",color:"primary",glossy:"",icon:"info"}},[e("q-tooltip",{attrs:{glossy:"",icon:"info","transition-show":"scale","transition-hide":"scale"}},[e("div",[e("p",[t._v("Proposal Information "),e("br"),t._v("\n                      Proposal (acct) "+t._s(t.propaccount)),e("br"),t._v("\n                      Percentage "+t._s(t.proposal_percentage)),e("br"),t._v("\n                      Expiration "+t._s(t.expires_at))])])])],1),t.activeProposal?e("div",{staticClass:"q-ma-lg"},[t._v(" Proposal Active   "+t._s(t.expiration_timer))]):e("div",{staticClass:"q-ma-lg"},[t._v(" No Active Proposal ")])],1)]),e("div",{staticClass:"flex justify-center",attrs:{id:"div2"}},[t._v("Fill up the Form before Submit.")])],1)],1),e("div",{staticStyle:{"min-height":"100vh"},attrs:{id:"q-app"}},[e("div",{staticClass:"row items-center q-gutter-sm"},[e("q-linear-progress",{attrs:{size:"25px",value:t.progress1,color:"accent"}},[e("div",{staticClass:"absolute-full flex flex-center"},[e("q-badge",{attrs:{color:"white","text-color":"accent",label:t.progressLabel1}})],1)]),e("q-linear-progress",{staticClass:"q-mt-sm",attrs:{size:"25px",value:t.progress2,color:"accent"}},[e("div",{staticClass:"absolute-full flex flex-center"},[e("q-badge",{attrs:{color:"white","text-color":"accent",label:t.progressLabel2}})],1)]),e("div",{staticClass:"row items-center q-gutter-sm"},[e("q-btn",{attrs:{flat:"",icon:"link",label:"Cancel Proposal",color:"orange"},on:{click:function(s){t.dialogreset=!0}}}),e("q-btn",{attrs:{flat:"",icon:"link",label:"Unlock NFT",color:"secondary"},on:{click:function(s){t.dialog=!0}}}),e("q-btn",{attrs:{flat:"",label:"NFT List",color:"blue"},on:{click:function(s){return t.$router.push("/customer")}}}),e("q-btn",{attrs:{flat:"",label:"Analytics",color:"blue"},on:{click:function(s){return t.$router.push("/analytics")}}}),e("q-dialog",{model:{value:t.dialog,callback:function(s){t.dialog=s},expression:"dialog"}},[e("q-card",[e("q-card-section",{staticClass:"row items-center q-gutter-sm"},[e("div",{staticClass:"row justify-center q-mb-md q-pl-md q-pr-md q-ml-md q-mr-md q-pb-xs",staticStyle:{"align-items":"center"}},[e("div",{staticClass:"col-xs-5 col-sm-4 text-right"},[t._v("\n                      Key of NFT to unlock\n                    ")]),e("div",{staticClass:"col-xs-1 col-sm-2"}),e("div",{staticClass:"col-xs-6 col-sm-6"},[e("q-input",{attrs:{type:"number",outlined:"",dense:""},model:{value:t.submitData1.nftKey,callback:function(s){t.$set(t.submitData1,"nftKey",s)},expression:"submitData1.nftKey"}})],1)]),e("div",[e("q-btn",{staticClass:"q-ma-lg",attrs:{icon:"link",color:"orange","no-caps":"",label:"Unlock"},on:{click:function(s){return t.submit1()}}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{"no-caps":"",label:"Close dialog",color:"primary"}})],1)])],1)],1)],1)],1)])],1)])},o=[],i=a("ded3"),l=a.n(i),c=a("2f62"),r={name:"Proposal",data(){return{tab:"send",dialog:!1,dialogreset:!1,dialoginfo:!1,activeProposal:!1,expiration_timer:0,isProposerActive:!1,submitData:{currentAccountName:"",eosaccount:null,cap:1,percentage:0,threshold:"",ratesleft:0,locked:!1},submitData1:{NFTAccountName:"",nftKey:null},isShowApprovedDialog:!1,isShowFailedDialog:!1}},mounted(){this.isProposer1()},created(){this.isProActive(),this.setIntervalId=setInterval((()=>{this.getActionProposal(),this.isProActive(),this.isProposer1()}),3e4),document.addEventListener("beforeunload",this.handler)},beforeDestroy(){clearInterval(this.setIntervalId)},computed:l()(l()({},Object(c["d"])({accountName:t=>t.account.accountName,propaccount:t=>t.account.proposalInfo.proposalInfo.eosaccount,value:t=>t.analytics.circInfo,progress1:t=>t.analytics.progress1,progress2:t=>t.analytics.progress2,progressLabel1:t=>t.analytics.progressLabel1,progressLabel2:t=>t.analytics.progressLabel2,isProposalActive:t=>t.proposal.isproposalactive,roi_target_cap:t=>t.account.proposalInfo.proposalInfo.roi_target_cap,proposal_percentage:t=>t.account.proposalInfo.proposalInfo.proposal_percentage,locked:t=>t.account.proposalInfo.proposalInfo.locked,expires_at:t=>t.account.proposalInfo.proposalInfo.expires_at,threshold:t=>t.account.proposalInfo.proposalInfo.threshold,rates_left:t=>t.account.proposalInfo.proposalInfo.rates_left,accrued:t=>t.account.proposalInfo.proposalInfo.accrued,proposer:t=>t.account.proposer})),{},{isFormFilled(){let t=!1;return t=1===this.submitData.cap?this.submitData.percentage>0&&this.submitData.ratesleft>0:this.submitData.percentage>0&&this.submitData.threshold>0,t}}),methods:l()(l()(l()({},Object(c["b"])("proposal",["proposalNew","proposalRemove","actionUnlockNFT","setProposalActive"])),Object(c["b"])("account",["getActionProposal"])),{},{submit(){const t=this;console.log("TOKEN: ",`${parseFloat(this.submitData.threshold).toFixed("4")} ${this.submitData.tokenType}`),this.submitData.currentAccountName=this.accountName,this.proposalNew(this.submitData).then((s=>{this.getActionProposal(),t.resetForm()}))},isProposer1(){this.accountName===this.proposer&&(this.isProposerActive=!0,console.log(" isProposer1:",this.accountName,this.proposer,this.isProposerActive))},submit1(){this.submitData1.NFTAccountName=this.accountName,console.log("submitData1 = ",this.submitData1),this.actionUnlockNFT(this.submitData1).then((t=>{this.submitData1.NFTAccountName=""}))},isProActive(){if("empty"!==this.eosaccount){this.expires=1e3*this.expires_at;const t=Date.now();t>this.expires?(this.activeProposal=!1,this.expiration_timer=0):(this.activeProposal=!0,this.expiration_timer=(this.expires-t)/6e4,this.expiration_timer=this.expiration_timer.toFixed(2)),console.log("timestamp:",this.expires,t)}else this.activeProposal=!1,this.expiration_timer=0},breset(){this.submitData.currentAccountName=this.accountName,this.proposalRemove(this.accountName),this.setProposalActive(0),this.getActionProposal()},resetForm(){this.submitData={eosaccount:"",cap:1,percentage:0,threshold:0,ratesleft:0,locked:!1}}})},n=r,p=(a("d8c7"),a("2877")),m=a("f09f"),d=a("429bb"),u=a("eb85"),b=a("a370"),v=a("24e8"),g=a("9c40"),h=a("6a67"),f=a("27f9"),q=a("9564"),x=a("05c0"),C=a("6b1d"),y=a("58a81"),_=a("7f67"),D=a("eebe"),P=a.n(D),w=Object(p["a"])(n,e,o,!1,null,null,null);s["default"]=w.exports;P()(w,"components",{QCard:m["a"],QTabs:d["a"],QSeparator:u["a"],QCardSection:b["a"],QDialog:v["a"],QBtn:g["a"],QBtnToggle:h["a"],QInput:f["a"],QToggle:q["a"],QTooltip:x["a"],QLinearProgress:C["a"],QBadge:y["a"]}),P()(w,"directives",{ClosePopup:_["a"]})},d8c7:function(t,s,a){"use strict";a("89f9")}}]);